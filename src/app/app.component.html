<div class="preloader">
    <div class="preloader-icon"></div>
    <span>Loading...</span>
</div>

<div class="layout-wrapper">
    <div class="header d-print-none">
        <div class="header-container">
            <div class="header-left">
                <div class="navigation-toggler">
                    <a href="#" data-action="navigation-toggler">
                        <i data-feather="menu"></i>
                    </a>
                </div>

                <div class="header-logo">
                    <a href=index.html>
                        <img class="logo" src="assets/assets/media/image/logo.png" alt="logo">
                    </a>
                </div>
            </div>

            <div class="header-body">
                <div class="header-body-left">
                    <ul class="navbar-nav">
                        <li class="nav-item">
                            <a href="#" title="Cart" class="nav-link" data-toggle="dropdown">
                                <i data-feather="shopping-bag"></i>
                            </a>
                            <div *ngIf="Cart === null" class="dropdown-menu dropdown-menu-right dropdown-menu-big">
                                No items in cart
                            </div>
                            <div *ngIf="Cart !== null" class="dropdown-menu dropdown-menu-right dropdown-menu-big">
                                <div class="border-bottom px-4 py-3 text-center d-flex justify-content-between align-items-center">
                                    <h5 class="mb-0">Cart</h5>
                                    <small class="opacity-7">{{Cart && Cart.responseModel ? Cart.responseModel.length : ''}} Product(s)</small>
                                </div>
                                <div class="dropdown-scroll">
                                    <div *ngFor="let productInCart of Cart?.responseModel" class="list-group list-group-flush">
                                        <div class="px-4 py-3 list-group-item d-flex">
                                            <div class="flex-shrink-0">
                                                <figure class="avatar mr-3">
                                                    <img class="rounded" src="assets/assets/media/image/products/product6.png"
                                                         alt="Canon 4000D 18-55 MM">
                                                </figure>
                                            </div>
                                            <div class="flex-grow-1">
                                                <p class="mb-0 line-height-20 d-flex justify-content-between">
                                                    {{productInCart.name}}
                                                    <a (click)="deleteProductFromCart(productInCart.id)">
                                                        <i title="Close" data-toggle="tooltip"
                                                       class="hide-show-toggler-item small ti-close"></i>
                                                    </a>
                                                </p>
                                                <span class="text-muted small"> {{productInCart.count}} X  {{productInCart.price}}</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="px-4 py-3 border-top text-right small">
                                    <p class="row d-flex justify-content-between align-items-center mb-1 font-weight-bold">
                                        <span>Total</span>
                                        <span>{{Cart ? Cart.orderTotal : 0}} BHD</span>
                                    </p>
                                    <form [formGroup]="AddOrderForm" (ngSubmit)="addNewOrder(AddOrderForm.value)" autocomplete="off">
                                    <div class="row d-flex justify-content-between align-items-center mb-1 font-weight-bold">
                                        <span>Customer Name</span>
                                        <input formControlName="userName" type="text" class="form-control" />
                                    </div>
                                    <div class="row d-flex justify-content-between align-items-center mb-1 font-weight-bold">
                                        <span>Customer Phone</span>
                                        <input formControlName="phone" type="text" class="form-control"  />
                                    </div>

                                    
                                    <div class="row d-flex justify-content-between align-items-center mb-1 font-weight-bold">
                                        <input type="submit" class="btn btn-success btn-block" value="Place order" />
                                    </div>
                                </form>
                                </div>
                            </div>
                        </li>

                    </ul>
                </div>
            </div>

            <ul class="navbar-nav ml-auto">
                <li class="nav-item header-toggler">
                    <a href="#" class="nav-link">
                        <i data-feather="arrow-down"></i>
                    </a>
                </li>
            </ul>
        </div>
    </div>

    <!-- Content wrapper -->
    <div class="content-wrapper">
        <!-- begin::navigation -->
        <div class="navigation">
            <div class="navigation-header">
                <span>Navigation</span>
                <a href="#">
                    <i class="ti-close"></i>
                </a>
            </div>
            <div class="navigation-menu-body">
                <ul>
                    <li class="parent">
                        <a routerLink="/">
                            <span class="nav-link-icon">
                                <i data-feather="pie-chart"></i>
                            </span>
                            <span>Items Management</span>
                        </a>
                    </li>
                    <li class="parent">
                        <a routerLink="/Products">
                            <span class="nav-link-icon">
                                <i data-feather="pie-chart"></i>
                            </span>
                            <span>Products</span>
                        </a>
                    </li>
                    <li class="parent">
                        <a routerLink="/Orders">
                            <span class="nav-link-icon">
                                <i data-feather="pie-chart"></i>
                            </span>
                            <span>Orders</span>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
        <!-- end::navigation -->
        <!-- Content body -->
        <div class="content-body">
            <!-- Content -->
            <div class="content">
                <router-outlet></router-outlet>
            </div>
            <!-- ./ Content -->
            <!-- Footer -->
            <footer class="content-footer">
                <div>Â© 2022 POS Test</div>
            </footer>
            <!-- ./ Footer -->
        </div>
        <!-- ./ Content body -->
    </div>

</div>





